<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0B0B0D">
    <title>Yuhger6a6y Admin Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/admin/admin.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YDP7BENSY6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-YDP7BENSY6');
    </script>
</head>
<body>
    <!-- Authentication Check -->
    <div id="auth-check" style="display: none;">
        <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0B0B0D; display: flex; align-items: center; justify-content: center; z-index: 9999;">
            <div style="text-align: center; color: white;">
                <i class="fas fa-spinner fa-spin" style="font-size: 3rem; color: #D4AF37; margin-bottom: 20px;"></i>
                <p>Verifying authentication...</p>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header class="header">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h1>Yuhger6a6y Admin</h1>
                    <p>Professional Dashboard for Website Management</p>
                </div>
                <button id="logoutBtn" class="btn secondary" style="padding: 10px 20px; font-size: 14px;">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </header>
        
        <div class="welcome-banner">
            <h2>Welcome Back, <span id="adminUsername">Admin</span></h2>
            <p>Manage your creative platform with ease and efficiency</p>
        </div>
        
        <main class="main-content">
            <div class="dashboard-grid">
                <div class="card">
                    <h2><i class="fas fa-chart-line"></i> Website Analytics</h2>
                    <p>Monitor visitor statistics, engagement metrics, and performance insights with detailed analytics</p>
                    <button class="btn primary analytics-btn">View Analytics</button>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-photo-film"></i> Content Management</h2>
                    <p>Manage gallery images, music tracks, albums, and multimedia content seamlessly</p>
                    <button class="btn primary content-mgmt-btn">Manage Content</button>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-users-cog"></i> User Management</h2>
                    <p>Administer accounts, permissions, and access control for team members</p>
                    <button class="btn primary user-mgmt-btn">Manage Users</button>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-cog"></i> System Settings</h2>
                    <p>Configure website preferences, themes, and system parameters</p>
                    <button class="btn primary settings-btn">Configure Settings</button>
                </div>
            </div>
            
            <!-- Modals -->
            <!-- Content Management Modal -->
            <div id="contentModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2><i class="fas fa-photo-film"></i> Content Management</h2>
                        <span class="close">&times;</span>
                    </div>
                    <div class="modal-body">
                        <div class="tabs">
                            <button class="tab-btn active" data-tab="gallery">Gallery</button>
                            <button class="tab-btn" data-tab="music">Music</button>
                            <button class="tab-btn" data-tab="albums">Albums</button>
                        </div>
                        
                        <div id="galleryTab" class="tab-content active">
                            <div class="upload-section">
                                <h3>Upload New Images</h3>
                                <input type="file" id="imageUpload" accept="image/*" multiple>
                                <button id="uploadImagesBtn" class="btn primary">Upload Images</button>
                            </div>
                            
                            <div class="gallery-management">
                                <h3>Current Gallery Images</h3>
                                <div id="galleryImagesList" class="images-grid">
                                    <!-- Gallery images will be loaded here -->
                                </div>
                            </div>
                        </div>
                        
                        <div id="musicTab" class="tab-content">
                            <div class="upload-section">
                                <h3>Upload New Tracks</h3>
                                <input type="file" id="musicUpload" accept="audio/*" multiple>
                                <button id="uploadMusicBtn" class="btn primary">Upload Music</button>
                            </div>
                            
                            <div class="music-management">
                                <h3>Current Music Tracks</h3>
                                <div id="musicTracksList" class="tracks-list">
                                    <!-- Music tracks will be loaded here -->
                                </div>
                            </div>
                        </div>
                        
                        <div id="albumsTab" class="tab-content">
                            <h3>Album Management</h3>
                            <div class="album-form">
                                <input type="text" id="albumName" placeholder="Album Name">
                                <input type="text" id="albumArtist" placeholder="Artist Name">
                                <textarea id="albumDescription" placeholder="Album Description"></textarea>
                                <input type="file" id="albumCover" accept="image/*">
                                <button id="createAlbumBtn" class="btn primary">Create Album</button>
                            </div>
                            
                            <div class="albums-list">
                                <h3>Current Albums</h3>
                                <div id="albumsList" class="albums-grid">
                                    <!-- Albums will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- User Management Modal -->
            <div id="userModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2><i class="fas fa-users-cog"></i> User Management</h2>
                        <span class="close">&times;</span>
                    </div>
                    <div class="modal-body">
                        <div class="tabs">
                            <button class="tab-btn active" data-tab="users">Users</button>
                            <button class="tab-btn" data-tab="permissions">Permissions</button>
                        </div>
                        
                        <div id="usersTab" class="tab-content active">
                            <div class="user-form">
                                <h3>Add New User</h3>
                                <input type="text" id="newUsername" placeholder="Username">
                                <input type="email" id="newUserEmail" placeholder="Email">
                                <input type="password" id="newUserPassword" placeholder="Password">
                                <select id="userRole">
                                    <option value="admin">Admin</option>
                                    <option value="editor">Editor</option>
                                    <option value="viewer">Viewer</option>
                                </select>
                                <button id="addUserBtn" class="btn primary">Add User</button>
                            </div>
                            
                            <div class="users-list">
                                <h3>Current Users</h3>
                                <div id="usersList" class="users-table">
                                    <!-- Users will be loaded here -->
                                </div>
                            </div>
                        </div>
                        
                        <div id="permissionsTab" class="tab-content">
                            <h3>User Permissions</h3>
                            <div class="permissions-list">
                                <!-- Permissions will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- System Settings Modal -->
            <div id="settingsModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2><i class="fas fa-cog"></i> System Settings</h2>
                        <span class="close">&times;</span>
                    </div>
                    <div class="modal-body">
                        <div class="tabs">
                            <button class="tab-btn active" data-tab="general">General</button>
                            <button class="tab-btn" data-tab="appearance">Appearance</button>
                            <button class="tab-btn" data-tab="integrations">Integrations</button>
                        </div>
                        
                        <div id="generalTab" class="tab-content active">
                            <div class="setting-group">
                                <h3>Site Information</h3>
                                <div class="form-field">
                                    <label for="siteTitle">Site Title</label>
                                    <input type="text" id="siteTitle" value="Yuhger6a6y Creative Platform">
                                </div>
                                <div class="form-field">
                                    <label for="siteDescription">Site Description</label>
                                    <textarea id="siteDescription">A creative platform for music and photography</textarea>
                                </div>
                                <div class="form-field">
                                    <label for="siteUrl">Site URL</label>
                                    <input type="text" id="siteUrl" value="https://yuhger6a6y.vercel.app">
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h3>SEO Settings</h3>
                                <div class="form-field">
                                    <label for="metaKeywords">Meta Keywords</label>
                                    <input type="text" id="metaKeywords" value="music, photography, creative, art">
                                </div>
                                <div class="form-field">
                                    <label for="metaAuthor">Meta Author</label>
                                    <input type="text" id="metaAuthor" value="Yuhger6a6y">
                                </div>
                            </div>
                            
                            <button id="saveGeneralSettingsBtn" class="btn primary">Save General Settings</button>
                        </div>
                        
                        <div id="appearanceTab" class="tab-content">
                            <div class="setting-group">
                                <h3>Theme Settings</h3>
                                <div class="form-field">
                                    <label for="primaryColor">Primary Color</label>
                                    <input type="color" id="primaryColor" value="#D4AF37">
                                </div>
                                <div class="form-field">
                                    <label for="secondaryColor">Secondary Color</label>
                                    <input type="color" id="secondaryColor" value="#0B0B0D">
                                </div>
                                <div class="form-field">
                                    <label for="accentColor">Accent Color</label>
                                    <input type="color" id="accentColor" value="#f4e04d">
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Layout Options</h3>
                                <div class="checkbox-field">
                                    <input type="checkbox" id="enableAnimations" checked>
                                    <label for="enableAnimations">Enable Animations</label>
                                </div>
                                <div class="checkbox-field">
                                    <input type="checkbox" id="enableParticles" checked>
                                    <label for="enableParticles">Enable Particle Effects</label>
                                </div>
                            </div>
                            
                            <button id="saveAppearanceSettingsBtn" class="btn primary">Save Appearance Settings</button>
                        </div>
                        
                        <div id="integrationsTab" class="tab-content">
                            <div class="setting-group">
                                <h3>Google Analytics</h3>
                                <div class="form-field">
                                    <label for="gaMeasurementId">Measurement ID</label>
                                    <input type="text" id="gaMeasurementId" value="G-YDP7BENSY6">
                                </div>
                                <div class="form-field">
                                    <label for="gaPropertyId">Property ID</label>
                                    <input type="text" id="gaPropertyId" value="">
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Social Media</h3>
                                <div class="form-field">
                                    <label for="instagramUrl">Instagram URL</label>
                                    <input type="text" id="instagramUrl" value="https://instagram.com/yuhger6a6y">
                                </div>
                                <div class="form-field">
                                    <label for="spotifyUrl">Spotify URL</label>
                                    <input type="text" id="spotifyUrl" value="https://open.spotify.com/artist/yuhger6a6y">
                                </div>
                                <div class="form-field">
                                    <label for="youtubeUrl">YouTube URL</label>
                                    <input type="text" id="youtubeUrl" value="https://youtube.com/@yuhger6a6y">
                                </div>
                            </div>
                            
                            <button id="saveIntegrationSettingsBtn" class="btn primary">Save Integration Settings</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="stats-section">
                <h2>Platform Metrics</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Today's Visitors</h3>
                        <p class="stat-number" id="totalVisitors">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Total Page Views</h3>
                        <p class="stat-number" id="pageViews">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Music Plays</h3>
                        <p class="stat-number" id="musicPlays">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Gallery Views</h3>
                        <p class="stat-number" id="galleryViews">0</p>
                    </div>
                </div>
            </div>
            
            <!-- Analytics Charts Section -->
            <div class="charts-section">
                <div class="chart-container">
                    <h2>Traffic Overview</h2>
                    <canvas id="trafficChart"></canvas>
                </div>
            </div>
            
            <!-- Detailed Analytics -->
            <div class="details-section">
                <div class="detail-card">
                    <h2>Recent Activity</h2>
                    <div id="recentActivity" class="activity-list">
                        <p>Loading recent activity...</p>
                    </div>
                </div>
                
                <div class="detail-card">
                    <h2>Top Referrers</h2>
                    <div id="topReferrers" class="referrer-list">
                        <p>Loading referrer data...</p>
                    </div>
                </div>
            </div>
            
            <!-- Enhanced Analytics Sections -->
            <div class="charts-section">
                <div class="chart-container">
                    <h2>Engagement Overview</h2>
                    <canvas id="engagementChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h2>Top Pages</h2>
                    <canvas id="topPagesChart"></canvas>
                </div>
            </div>
            
            <div class="charts-section">
                <div class="chart-container">
                    <h2>Device Categories</h2>
                    <canvas id="deviceChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h2>Geographic Distribution</h2>
                    <canvas id="geoChart"></canvas>
                </div>
            </div>
        </main>
        
        <footer class="footer">
            <p>&copy; 2026 Yuhger6a6y. Professional Admin Dashboard v2.0</p>
            <p>Built with modern design principles and glass morphism aesthetics</p>
        </footer>
    </div>
    
    <script src="/admin/secure-analytics.js"></script>
    <script src="/admin/admin.js"></script>
    <script>
        // Authentication check
        document.addEventListener('DOMContentLoaded', function() {
            const authCheck = document.getElementById('auth-check');
            authCheck.style.display = 'block';
            
            // Check if user is authenticated
            const isAuthenticated = localStorage.getItem('admin_authenticated');
            const sessionData = localStorage.getItem('admin_session');
            
            if (isAuthenticated !== 'true' || !sessionData) {
                // Redirect to login
                window.location.href = '/admin/login.html';
                return;
            }
            
            // Check session validity
            try {
                const session = JSON.parse(sessionData);
                const loginTime = new Date(session.loginTime);
                const now = new Date();
                const hoursPassed = (now - loginTime) / (1000 * 60 * 60);
                
                if (hoursPassed >= 24) {
                    // Session expired
                    localStorage.removeItem('admin_authenticated');
                    localStorage.removeItem('admin_session');
                    window.location.href = '/admin/login.html';
                    return;
                }
                
                // Show username
                document.getElementById('adminUsername').textContent = session.username || 'Admin';
                
            } catch (e) {
                // Invalid session
                localStorage.removeItem('admin_authenticated');
                localStorage.removeItem('admin_session');
                window.location.href = '/admin/login.html';
                return;
            }
            
            // Hide auth check
            setTimeout(() => {
                authCheck.style.display = 'none';
            }, 1000);
            
            // Add logout functionality
            document.getElementById('logoutBtn').addEventListener('click', function() {
                if (confirm('Are you sure you want to logout?')) {
                    localStorage.removeItem('admin_authenticated');
                    localStorage.removeItem('admin_session');
                    window.location.href = '/admin/login.html';
                }
            });
        });
    </script>
</body>
</html>